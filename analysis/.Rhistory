cornell <- games |>
mutate(date = mdy(date))
View(cornell)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
summarize(
count = n()
) |>
filter(count == 2) |>
ungroup()
View(teams)
View(games)
View(cornell)
View(games)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
summarize(
count = n()
) |>
filter(count == 2) |>
ungroup()
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
ungroup()
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2)
View(games)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id = 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id != 167, away_team_score, home_team_score))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id != 167, away_team_score, home_team_score))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id != 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE))
str(cornell)
colnames(cornell)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, home_team, away_team, cornell_score, opp_score, cornell_win)
View(cornell)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, home_team, away_team, cornell_score, opp_score, cornell_win) |>
filter(!is.na(cornell_win))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
filter(!is.na(cornell_win))
test <- cornell |>
filter(score_diff > 5)
View(test)
View(test)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
filter(!is.na(cornell_win))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
filter(!is.na(cornell_win))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = row_number() % 2) |>
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = row_number(year) % 2) |>
1 % 2
1 %% 2
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = row_number() %% 2) |>
filter(!is.na(cornell_win))
View(cornell)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = row_number() %% 2 + 1) |>
filter(!is.na(cornell_win))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate((game_num = row_number() %% 2) + 1) |>
filter(!is.na(cornell_win))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = (row_number() %% 2) + 1) |>
filter(!is.na(cornell_win))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = (row_number() %% 2) - 1) |>
filter(!is.na(cornell_win))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = (row_number() %% 2) + 1) |>
filter(!is.na(cornell_win))
View(cornell)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = (row_number() %% 3)) |>
filter(!is.na(cornell_win))
test <- cornell |>
filter(score_diff > 5 && game_num = 1)
test <- cornell |>
filter(score_diff > 5 && game_num == 1)
test <- cornell |>
filter(score_diff > 5 & game_num == 1)
View(test)
games <- ncaa_schedule_info(team_id = 167, year = 2012)
print(x)
for (x in 2013:2025){
try(games <- rbind(games, ncaa_schedule_info(team_id = 167, year=x)))
print(x)
}
for (x in 2013:2024){
try(games <- rbind(games, ncaa_schedule_info(team_id = 167, year=x)))
print(x)
}
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = (row_number() %% 3)) |>
filter(!is.na(cornell_win))
View(games)
games <- data.frame()
for (x in 2013:2024){
try(games <- rbind(games, ncaa_schedule_info(team_id = 167, year=x)))
print(x)
}
for (x in 2013:2024){
games <- rbind(games, ncaa_schedule_info(team_id = 167, year=x))
print(x)
}
View(games)
warnings()
library(readr)
games <- read_csv("games.csv")
View(games)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = (row_number() %% 3)) |>
filter(!is.na(cornell_win))
test <- cornell |>
filter(score_diff > 4 & game_num == 1)
test <- cornell |>
filter(score_diff > 5 & game_num == 1)
test <- cornell |>
filter(score_diff > 4 & game_num == 1)
View(test)
test2 <- cornell |>
filter(date %in% test$date)
View(test2)
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = (row_number() %% 3)) |>
filter(!is.na(cornell_win))
blowouts <- cornell |>
filter(score_diff > 4 & game_num == 1)
test <- cornell |>
filter(date %in% blowouts$date)
rm(test2)
test <- cornell |>
filter(date %in% blowouts$date) |>
filter(game_num == 2)
test <- cornell |>
filter(date %in% blowouts$date) |>
filter(game_num == 2) |>
summarise(
win_pct = sum(cornell_win == 1) / n()
)
View(test)
sum(test$cornell_win == 1) / n()
test <- cornell |>
filter(date %in% blowouts$date) |>
filter(game_num == 2)
sum(test$cornell_win == 1) / n()
sum(test$cornell_win == 1) / count()
sum(test$cornell_win == 1) / count(test$contest_id)
sum(test$cornell_win == 1) / count(test$cornell_score)
sum(test$cornell_win == 1)
sum(test$cornell_win == 1) / nrow(test)
View(cornell)
sum(cornell$cornell_win == 1) / nrow(cornell)
?ncaa_schedule_info
try(ncaa_schedule_info(team_id = 736, year = 2019))
cornell <- games |>
mutate(date = mdy(date)) |>
group_by(date) |>
filter(n() == 2) |>
mutate(cornell_score = ifelse(home_team_id == 167, home_team_score, away_team_score)) |>
mutate(opp_score = ifelse(home_team_id == 167, away_team_score, home_team_score)) |>
mutate(cornell_win = ifelse(cornell_score > opp_score, TRUE, FALSE)) |>
select(year, date, contest_id, home_team, away_team, cornell_score, opp_score, cornell_win) |>
mutate(score_diff = cornell_score - opp_score) |>
mutate(game_num = (row_number() %% 3)) |>
filter(!is.na(cornell_win))
blowouts <- cornell |>
filter(score_diff < -4 & game_num == 1)
test <- cornell |>
filter(date %in% blowouts$date) |>
filter(game_num == 2)
sum(cornell$cornell_win == 0) / nrow(cornell)
sum(test$cornell_win == 1) / nrow(test)
View(test)
sum(test$cornell_win == 2) / nrow(test)
sum(test$cornell_win == 0) / nrow(test)
clue_words <- unnest_tokens(data, clue_word, clue) |>
group_by(clue) |>
summarize(
count = n(),
ex_answer = first(answer)
) |>
arrange(-count)
library(tidyverse)
library(dplyr)
library(ggplot2)
library(ggthemes)
library(tokenizers)
data <- read_csv('../crossword_clues.csv')
getwd()
setwd("~/GitHub/crosswords/analysis")
library(tidyverse)
library(dplyr)
library(ggplot2)
library(ggthemes)
library(tokenizers)
setwd("~/GitHub/crosswords/analysis")
data <- read_csv('../crossword_clues.csv')
data <- data |>
mutate(date = as.Date(date, format = "%m-%d-%Y")) |>
mutate(year = format(date, "%Y"))
frequencies <- data |>
group_by(clue) |>
summarize(
count = n(),
ex_answer = first(answer)
) |>
arrange(-count)
ttr <- data |>
group_by(day) |>
summarise( ttr = n_distinct(answer)/ n())
length_per_day <- data |>
mutate(length = str_length(clue)) |>
filter(!is.na(length)) |>
group_by(day) |>
summarize(
avg_len = mean(length)
)
clue_words <- unnest_tokens(data, clue_word, clue) |>
group_by(clue) |>
summarize(
count = n(),
ex_answer = first(answer)
) |>
arrange(-count)
library(tidytext)
clue_words <- unnest_tokens(data, clue_word, clue) |>
group_by(clue) |>
summarize(
count = n(),
ex_answer = first(answer)
) |>
arrange(-count)
clue_words <- unnest_tokens(data, clue_word, clue) |>
group_by(clue_word) |>
summarize(
count = n(),
ex_answer = first(answer)
) |>
arrange(-count)
View(clue_words)
clue_words <- unnest_tokens(data, clue_word, clue) |>
group_by(clue_word) |>
summarize(
count = n(),
ex_answer = first(answer)
) |>
filter(!clue_word %in% stopwords::stopwords(langauge="en")) |>
arrange(-count)
clue_words <- unnest_tokens(data, clue_word, clue) |>
group_by(clue_word) |>
summarize(
count = n(),
ex_answer = first(answer)
) |>
filter(!clue_word %in% stopwords::stopwords(language="en")) |>
arrange(-count)
View(clue_words)
clue_words <- unnest_tokens(data, clue_word, clue) |>
group_by(clue_word) |>
summarize(
count = n(),
most_common_answer = which.max(answer)
) |>
filter(!clue_word %in% stopwords::stopwords(language="en")) |>
arrange(-count)
View(clue_words)
clue_words <- unnest_tokens(data, clue_word, clue) |>
group_by(clue_word) |>
summarize(
count = n(),
most_common_answer = collapse::fmode(answer)
) |>
filter(!clue_word %in% stopwords::stopwords(language="en")) |>
arrange(-count)
View(clue_words)
udpipe::udpipe("John and Mary went to New York. John loved it!", "english")
install.packages('udpipe')
udpipe::udpipe("John and Mary went to New York. John loved it!", "english")
udpipe::udpipe("John and Mary went to New York. John loved it!", "english")
upos
?upos
??upos
View(frequencies)
library(tidyverse)
library(dplyr)
library(ggplot2)
library(ggthemes)
data <- read_csv('../crossword_clues.csv')
data <- data |>
filter(!is.na(answer))
frequencies <- data |>
group_by(clue) |>
summarize(
count = n(),
length = first(str_length(answer))
) |>
arrange(-count)
index <- 1
values <- vector("list", nrow(data))
for (i in data$answer) {
cv_word <- ""
for (j in 1:str_length(i)){
if (substr(i, j, j) %in% c('A','E','I','O','U')){
cv_word <- paste0(cv_word, 'V')
}
else{
cv_word <- paste0(cv_word, 'C')
}
}
values[index] <- cv_word
print(index)
index <- index + 1
}
data$cv <- values
cv_frequencies <- data |>
group_by(cv) |>
summarize(
count = n()
) |>
arrange(-count)
View(frequencies)
frequencies <- data |>
group_by(clue) |>
summarize(
count = n(),
length = first(str_length(answer))
) |>
mutate(freq_rank = rank(-count,ties.method="min")) |>
arrange(-count) |>
mutate(cum_sum = cumsum(count)) |>
mutate(cum_pct = 100*cum_sum/sum(count))
View(frequencies)
frequencies <- data |>
group_by(clue) |>
summarize(
count = n(),
length = first(str_length(answer))
) |>
mutate(freq_rank = rank(-count,ties.method="min")) |>
arrange(-count)
frequencies |>
ggplot()+
geom_point(aes(x=freq_rank, y=count))
frequencies |>
ggplot()+
geom_point(aes(x=freq_rank, y=count))+
scale_x_continuous(transform = "log10",labels = scales::label_comma(),n.breaks=10)+
scale_y_continuous(transform = "log10",labels = scales::label_comma(),n.breaks=10)
